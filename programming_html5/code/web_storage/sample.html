<!DOCTYPE html5>
<link rel="stylesheet" href="style.css" type="text/css" />
<html>
<h2>Conference</h2>
 <header id="navigation">
  <nav>
    <ul>
      <li><A href="sessions.html">Sessions</A></li>
      <li>|</li>
      <li><A href="schedule.html">Schedule</A></li>
      <li>|</li>
      <li><A href="speakers.html">Speakers</A></li>
    </ul>
  </nav>
</header>

<section id="speakerslist">
  <article>
    <h3>Neal Ford</h3>
    <p>ThoughtWorks</p>
    <p><span id="requirements" contenteditable="true">Projector, large room</span></p>    
  </article>
  <aside class="special">
    <p>Meme Wrangler</p>
  </aside>
  <article>
    <h3>Venkat Subramaniam</h3>
    <p id="thecompany" draggable="true" data-company="http://www.agiledeveloper.com">Agile Developer</p>
    <p><span id="requirements" contenteditable="true">Projector, safe distance from speaker</span></p>    
  </article>
  <aside class="special">
    <p>Recovering programmer</p>
  </aside>
  
  <article>
    <h3>Add Speaker</h3>
    <form method="post">
      <fieldset id="addspeaker">
        <label>Name</label>
        <input type="input" id="personName" name="name" placeholder="firstname lastname" autofocus autocomplete="off" required onchange="saveData();"></input>
        <label>Email</label>
        <input type="email" placeholder="name@example.com" required></input>
        <label>Website</label>
        <input type="url" name="theurl" id="theurl"></input>
        <label>Talks</label>
        <input type="number" name="talks" min="1" max="5" value="3"></input>
        <label>Level</label>
        <input type="range" name="level" min="1" max="10" value="7"></input>
        <label>Arrival</label>
        <input type="date" name="arrival"value="2012-02-24"></input>
        <input type="submit"></input>
      </fieldset>
    </form>
  </article>
  
</section>

<section id="days">
  <hr></hr>
  <h3>Number of attendees</h3>
  <table id="topics">
    <tr><th>Topic for the d</th><th>Attendees</th></tr>
    <tr><td>HTML5</td><td>100</td></tr>
    <tr><td>Concurrency</td><td>150</td></tr>
    <tr><td>JavaScript</td><td>100</td></tr>
    <tr><td>Total</td><td>350</td></tr>
  </table>
</section>

<footer id="copyright">
  <hr></hr>
  <p>&copy; 2012-All rights reserved.</p>
</footer>

<canvas id="logo" width="50" height="50"><p>Logo</p></canvas>
<script language="javascript">
  var drawLogo = function() {
    var canvas = document.getElementById('logo');
    var context = canvas.getContext('2d');
    context.lineWidth = 3;
    context.strokeStyle = "#F0F";
    context.beginPath();
    context.moveTo(0, 0);
    context.lineTo(25, 50);
    context.lineTo(50, 0);
    context.stroke();
    context.closePath();
  }

  drawLogo();

  var registerDragDrop = function() {
    var dragSource = document.getElementById('thecompany');
    dragSource.ondragstart = function(event) {      
      var dataToCopy = this.getAttribute('data-company');
      event.dataTransfer.setData('Text', dataToCopy);
      return true;
    };
    
    var dropTarget = document.getElementById('theurl');
    dropTarget.ondrop = function(event) {
      this.value = event.dataTransfer.getData('Text');
      event.preventDefault();
      return false;
    };
    
    dropTarget.ondragover = function(event) {
      event.preventDefault();
      return false;
    };
    
    dropTarget.ondragend = function(event) {
      event.preventDefault();
      return false;
    };

  }
  
  registerDragDrop();
  
  function saveData() {
    localStorage.setItem("personName", 
      document.getElementById('personName').value);
    return true;
  }
  
  function loadData() {
    document.getElementById('personName').value = 
      localStorage.getItem('personName');
  }
  
  loadData();
  window.addEventListener('storage', loadData, false);
  //Bring two instances of the browser up on this page.
  //Change name in one, hit tab, and see the change show up
  //on the other browser window.
</script>

</html>
